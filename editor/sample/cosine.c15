{"name":"cosine.c","value":"/* Credits to http://web.eecs.utk.edu/~azh/blog/cosine.html */\r\n\r\nconst float CONST_PI = 3.141592653589793;\r\nconst int ITERATIONS = 100;\r\n\r\nfloat cosine(float x)\r\n{\r\n    int div = (int)(x / CONST_PI);\r\n    x = x - ((float)div * CONST_PI);\r\n    float sign = 1.0;\r\n\r\n    if (div % 2 != 0)\r\n        sign = -1.0;\r\n\r\n    float result = 1.0;\r\n    float inter = 1.0;\r\n    float num = x * x;\r\n\r\n    for (int i = 1; i <= ITERATIONS; i++)\r\n    {\r\n        float comp = 2.0 * (float)i;\r\n        float den = comp * (comp - 1.0);\r\n\r\n        inter *= num / den;\r\n\r\n        if (i % 2 == 0)\r\n            result += inter;\r\n        else\r\n            result -= inter;\r\n    }\r\n\r\n    return sign * result;\r\n}\r\n\r\nfloat angles[] = { \r\n    0.0, \r\n    6.71238898038469,\r\n    0.7853981633974483, \r\n    1.0471975511965976,\r\n    1.5707963267948966\r\n};\r\n\r\n/*\r\n* Expected values:\r\n*\r\n* var_angles_0 (1.000000)\r\n* var_angles_1 (0.909295)\r\n* var_angles_2 (0.707107)\r\n* var_angles_3 (0.500000)\r\n* var_angles_4 (-0.000000)\r\n*/\r\nvoid calculateAngles()\r\n{\r\n    for (int i = 0; i < angles.length; i++)\r\n        angles[i] = cosine(angles[i]);\r\n}\r\n\r\ncalculateAngles();","script":true}