{"name":"monte_carlo_pi.c","value":"uint z1 = 687u, z2 = 10340u, z3 = 2828u, z4 = 30705u;\r\n\r\nuint rand()\r\n{\r\n    uint b  = ((z1 << 6u) ^ z1) >> 13u;\r\n    z1 = ((z1 & 4294967294u) << 18u) ^ b;\r\n    b  = ((z2 << 2u) ^ z2) >> 27u; \r\n    z2 = ((z2 & 4294967288u) << 2u) ^ b;\r\n    b  = ((z3 << 13u) ^ z3) >> 21u;\r\n    z3 = ((z3 & 4294967280u) << 7u) ^ b;\r\n    b  = ((z4 << 3u) ^ z4) >> 12u;\r\n    z4 = ((z4 & 4294967168u) << 13u) ^ b;\r\n    return (z1 ^ z2 ^ z3 ^ z4);\r\n}\r\n\r\nfloat sqrt(float number)\r\n{\r\n\tuint i;\r\n\tfloat x2, y;\r\n\tconst float threehalfs = 1.5F;\r\n\r\n\tx2 = number * 0.5F;\r\n\ty  = number;\r\n\ti  = (uint)y;     \r\n\ti  = 0x5f3759dfu - ( i >> 1u );\r\n\ty  = (float)i;\r\n\ty  = y * ( threehalfs - ( x2 * y * y ) );\r\n\r\n\treturn 1.0 / y;\r\n}\r\n\r\nfloat estimatePi(int numThrows)\r\n{\r\n    int inCircle = 0;\r\n    \r\n    for (int i = 0; i < numThrows; i++) \r\n    {\r\n        const float MAX_RAND = (float)0x4f800000u;\r\n\r\n        float x = (float)(int)rand() / (float)MAX_RAND;\r\n\t\tfloat y = (float)(int)rand() / (float)MAX_RAND;\r\n\r\n        float dist = sqrt(x * x + y * y);\r\n \r\n        if (dist < 0.5) \r\n            inCircle++;\r\n    }\r\n\r\n    return 4.0 * ((float)inCircle / (float)numThrows);\r\n}\r\n\r\nfloat answer = estimatePi(100000);","script":true}